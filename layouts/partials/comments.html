{{- /* Comments area start */ -}}
<!-- {{- /* to add comments read => https://gohugo.io/content-management/comments/ */ -}} -->
<!-- reference from https://jaredyam.github.io/posts/build-and-deploy-a-static-blog-website-with-hugo-and-github-pages -->
<!-- config from https://giscus.app/zh-CN -->
<!-- <script src="https://giscus.app/client.js" data-repo="QJieWang/TJBlog" data-repo-id="R_kgDOMJAddg"
    data-category="Announcements" data-category-id="DIC_kwDOMJAdds4CgKZZ" data-mapping="pathname" data-strict="1"
    data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme"
    data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async>
</script> -->
<div class="comments">
    <script>
        function loadComment() {
            let theme = localStorage.getItem('pref-theme') === 'dark' ? 'dark' : 'light';
            let s = document.createElement('script');
            s.src = 'https://giscus.app/client.js';
            s.setAttribute('data-repo', '{{- site.Params.commentsParams.repo -}}');
            s.setAttribute('data-repo-id', '{{- site.Params.commentsParams.repoId -}}');
            s.setAttribute('data-category', '{{- site.Params.commentsParams.category -}}');
            s.setAttribute('data-category-id', '{{- site.Params.commentsParams.categoryId -}}');
            s.setAttribute('data-mapping', '{{- site.Params.commentsParams.mapping -}}');
            s.setAttribute('data-strict', '{{- site.Params.commentsParams.strict -}}');
            s.setAttribute('data-reactions-enabled', '{{- site.Params.commentsParams.reactionsEnabled -}}');
            s.setAttribute('data-emit-metadata', '{{- site.Params.commentsParams.emitMetadata -}}');
            s.setAttribute('data-input-position', '{{- site.Params.commentsParams.inputPosition -}}');
            s.setAttribute('data-lang', '{{- site.Params.commentsParams.lang -}}');
            s.setAttribute('data-loading', '{{- site.Params.commentsParams.loading -}}');
            s.setAttribute('data-theme', theme);
            s.setAttribute('crossorigin', 'anonymous');
            s.setAttribute('async', '');
            document.querySelector('div.comments').innerHTML = '';
            document.querySelector('div.comments').appendChild(s);
        }
        loadComment();
    </script>
</div>
{{- /* Comments area end */ -}}